
# Планировщик задач (TODO-лист)

## Описание проекта

В данном проекте реализован веб-сервер, который выполняет функциональность планировщика задач (аналог TODO-листа). Планировщик позволяет пользователю добавлять, редактировать, удалять и отмечать задачи как выполненные. Задачи могут повторяться по заданным правилам (ежегодно, через несколько дней, в определенные дни месяца или недели). Также предусмотрена возможность аутентификации и поиска задач по заголовку или дате.

Проект реализован с использованием Go и SQLite в качестве СУБД. Веб-сервер обрабатывает API-запросы и взаимодействует с фронтендом для выполнения операций с задачами.

## Список выполненных заданий

### Задания с повышенной трудностью (звёздочка):
- **Поиск задач:** В браузере рядом с кнопкой "Добавить задачу" добавлено поле для поиска. Теперь можно искать задачи по заголовку и фильтровать их по дате. Запросы с параметром `search` позволяют фильтровать задачи по ключевым словам и датам.
- **Переопределение параметров через переменные окружения:**
  - Порт для запуска сервера можно указать через переменную окружения `TODO_PORT`.
  - Путь к базе данных можно задать через переменную окружения `TODO_DBFILE`.
- **Создание Docker-образа:** Проект был упакован в Docker-образ, что позволяет запускать приложение в контейнере на любой машине, независимо от операционной системы.
- **Аутентификация:** Добавлена аутентификация для пользователей, что повышает безопасность работы с задачами.

### Общие задачи:
- Реализация API для добавления, удаления, изменения и получения задач.
- Проектирование и создание базы данных для хранения задач.
- Реализация обработки повторяющихся задач на основе заданных правил.
- Реализация функциональности для вычисления следующей даты выполнения задачи.
- Реализация фронтенда с использованием HTML, CSS, и JS для взаимодействия с сервером.

## Структура проекта

### `go.mod` и `go.sum`
- Эти файлы содержат информацию о зависимостях проекта и их версиях.

### `main.go`
- Главный файл проекта, который запускает веб-сервер.

### `pkg/`
- В этой директории содержатся пакеты для различных частей проекта:
  - **`api/`** — Логика для обработки API-запросов (например, добавление, изменение и удаление задач).
  - **`db/`** — Работа с базой данных, включая создание таблиц, выполнение запросов и обработку данных.
  - **`server/`** — Логика сервера, настройка и запуск HTTP-сервера.

### `scheduler.db`
- Файл базы данных SQLite, где хранятся задачи.

### `tests/`
- Директория с тестами для проекта:
  - **Тесты для API** — Проверка различных операций с задачами.
  - **`settings.go`** — Конфигурации для тестирования, включая настройки базы данных и другие параметры.

### `web/`
- Фронтенд-часть приложения:
  - **`css/`** — Статические файлы стилей для фронтенда.
  - **`favicon.ico`** — Иконка сайта.
  - **`index.html`** — Главная страница приложения.
  - **`js/`** — JavaScript файлы для работы с фронтендом.
  - **`login.html`** — Страница для аутентификации (если используется).

## Инструкция по запуску кода локально

### Переменные окружения

Перед запуском сервера убедитесь, что установлены необходимые переменные окружения. Вы можете создать файл `.env` в корне проекта с содержимым:

```
TODO_PORT="7540"
TODO_DBFILE="scheduler.db"
TODO_PASSWORD="your_password_here"
```

- `TODO_PORT` — порт, на котором будет запущен сервер (по умолчанию 7540).
- `TODO_DBFILE` — путь к файлу базы данных (по умолчанию `scheduler.db`).
- `TODO_PASSWORD` — пароль для аутентификации (если используется).

### Запуск проекта

1. Скачайте и установите зависимости:

   ```bash
   go mod download
   ```

2. Запустите сервер:

   ```bash
   go run main.go
   ```

3. Откройте браузер и перейдите по адресу: [http://localhost:7540](http://localhost:7540).

## Инструкция по запуску тестов

Запуск тестов:

```bash
go test ./tests
```

## Инструкция по сборке и запуску проекта через Docker

1. Соберите Docker-образ:

   ```bash
   docker build -t my-app .
   ```

2. Запустите контейнер:

   ```bash
   docker run -d -p 7540:7540 -e TODO_PORT=7540 my-app
   ```

3. Перейдите по адресу [http://localhost:7540](http://localhost:7540) в браузере, чтобы увидеть приложение.